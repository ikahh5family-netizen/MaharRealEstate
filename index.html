<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mahar Real Estate | Bahria Town Karachi Property Portal</title>
    <meta name="description" content="Premium real estate services in Bahria Town Karachi. Buy, sell, or rent properties with Mahar Real Estate. Expert agents, verified listings, and transparent deals.">
    <meta name="keywords" content="real estate, bahria town karachi, mahar real estate, plots for sale, homes for sale, commercial property, apartments, property listing">
    <meta name="author" content="Mahar Real Estate & Builders">
    <meta name="theme-color" content="#EE964B">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üè†</text></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#EE964B',
                        dark: '#111827',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <!-- Leaflet CSS for Maps -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <!-- Leaflet JS for Maps -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1f2937; }
        ::-webkit-scrollbar-thumb { background: #4b5563; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #6b7280; }
        html { scroll-behavior: smooth; }
        .animate-fade-in { animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .hero-gradient {
            background: linear-gradient(135deg, #111827 0%, #1f2937 50%, #374151 100%);
        }
        .card-hover:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        .card-hover {
            transition: all 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Navigation -->
    <nav id="navbar" class="fixed w-full z-50 transition-all duration-300 bg-transparent">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <div class="flex items-center space-x-3">
                    <div class="w-12 h-12 bg-primary rounded-xl flex items-center justify-center">
                        <span class="text-2xl">üè†</span>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-white">Mahar Real Estate</h1>
                        <p class="text-xs text-gray-300">& Builders</p>
                    </div>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#home" class="text-white hover:text-primary transition">Home</a>
                    <a href="#properties" class="text-white hover:text-primary transition">Properties</a>
                    <a href="#agents" class="text-white hover:text-primary transition">Agents</a>
                    <a href="#about" class="text-white hover:text-primary transition">About</a>
                    <a href="#contact" class="text-white hover:text-primary transition">Contact</a>
                </div>
                <button onclick="toggleMobileMenu()" class="md:hidden text-white">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                </button>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobileMenu" class="hidden md:hidden bg-dark/95 backdrop-blur-lg">
            <div class="px-4 py-6 space-y-4">
                <a href="#home" class="block text-white hover:text-primary transition py-2">Home</a>
                <a href="#properties" class="block text-white hover:text-primary transition py-2">Properties</a>
                <a href="#agents" class="block text-white hover:text-primary transition py-2">Agents</a>
                <a href="#about" class="block text-white hover:text-primary transition py-2">About</a>
                <a href="#contact" class="block text-white hover:text-primary transition py-2">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero-gradient min-h-screen flex items-center relative overflow-hidden">
        <div class="absolute inset-0 opacity-10">
            <div class="absolute top-20 left-10 w-72 h-72 bg-primary rounded-full filter blur-3xl"></div>
            <div class="absolute bottom-20 right-10 w-96 h-96 bg-orange-400 rounded-full filter blur-3xl"></div>
        </div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-32 relative z-10">
            <div class="grid lg:grid-cols-2 gap-12 items-center">
                <div class="animate-fade-in">
                    <span class="inline-block bg-primary/20 text-primary px-4 py-2 rounded-full text-sm font-semibold mb-6">
                        #1 Real Estate in Bahria Town Karachi
                    </span>
                    <h1 class="text-4xl md:text-6xl font-bold text-white mb-6 leading-tight">
                        Find Your Perfect <span class="text-primary">Property</span> in Bahria Town
                    </h1>
                    <p class="text-gray-300 text-lg mb-8 max-w-lg">
                        Discover premium plots, luxurious homes, commercial spaces, and modern apartments with Mahar Real Estate & Builders.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <a href="#properties" class="bg-primary text-white px-8 py-4 rounded-full font-semibold hover:bg-orange-500 transition text-center">
                            Browse Properties
                        </a>
                        <a href="#contact" class="border-2 border-white text-white px-8 py-4 rounded-full font-semibold hover:bg-white hover:text-dark transition text-center">
                            Contact Us
                        </a>
                    </div>
                    <!-- Stats -->
                    <div class="grid grid-cols-3 gap-8 mt-12">
                        <div>
                            <p class="text-3xl font-bold text-primary">500+</p>
                            <p class="text-gray-400">Properties Sold</p>
                        </div>
                        <div>
                            <p class="text-3xl font-bold text-primary">1000+</p>
                            <p class="text-gray-400">Happy Clients</p>
                        </div>
                        <div>
                            <p class="text-3xl font-bold text-primary">15+</p>
                            <p class="text-gray-400">Years Experience</p>
                        </div>
                    </div>
                </div>
                <!-- Search Box -->
                <div class="bg-white rounded-3xl p-8 shadow-2xl animate-fade-in">
                    <h3 class="text-2xl font-bold text-dark mb-6">Search Properties</h3>
                    <div class="space-y-4">
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-gray-600 mb-2 font-medium">Property Type</label>
                                <select id="searchType" class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none">
                                    <option value="">All Types</option>
                                    <option value="plot">Residential Plots</option>
                                    <option value="home">Homes & Villas</option>
                                    <option value="commercial">Commercial</option>
                                    <option value="apartment">Apartments</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-gray-600 mb-2 font-medium">Status</label>
                                <select id="searchStatus" class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none">
                                    <option value="">Buy or Rent</option>
                                    <option value="sale">For Sale</option>
                                    <option value="rent">For Rent</option>
                                </select>
                            </div>
                        </div>
                        <div>
                            <label class="block text-gray-600 mb-2 font-medium">Location</label>
                            <input type="text" id="searchLocation" class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none" placeholder="e.g., Precinct 27, Block A">
                        </div>
                        <div>
                            <label class="block text-gray-600 mb-2 font-medium">Price Range</label>
                            <select id="searchPrice" class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none">
                                <option value="">Any Price</option>
                                <option value="0-50">Under 50 Lac</option>
                                <option value="50-100">50 Lac - 1 Crore</option>
                                <option value="100-200">1 - 2 Crore</option>
                                <option value="200+">Above 2 Crore</option>
                            </select>
                        </div>
                        <button onclick="searchProperties()" class="w-full bg-primary text-white py-4 rounded-xl font-semibold hover:bg-orange-500 transition flex items-center justify-center gap-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                            </svg>
                            Search Properties
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Property Categories -->
    <section class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-center mb-16">
                <div class="text-center md:text-left">
                    <span class="text-primary font-semibold">Property Categories</span>
                    <h2 class="text-4xl font-bold text-dark mt-2">Explore by Property Type</h2>
                </div>
                <!-- Admin Mode Toggle -->
                <div class="flex items-center gap-4 mt-6 md:mt-0 flex-wrap justify-center">
                    <button onclick="openChangePasswordModal()" id="changePasswordBtn" class="hidden bg-blue-500 text-white px-6 py-3 rounded-full font-semibold hover:bg-blue-600 transition flex items-center gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"/>
                        </svg>
                        Change Password
                    </button>
                    <button onclick="openListingModal()" id="addPropertyBtn" class="hidden bg-primary text-white px-6 py-3 rounded-full font-semibold hover:bg-orange-500 transition flex items-center gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                        </svg>
                        Add Property
                    </button>
                    <button onclick="toggleAdminMode()" id="adminToggle" class="bg-dark text-white px-6 py-3 rounded-full font-semibold hover:bg-gray-800 transition flex items-center gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                        </svg>
                        <span id="adminToggleText">Admin Mode</span>
                    </button>
                </div>
            </div>
            <div class="grid md:grid-cols-4 gap-6">
                <div onclick="filterByCategory('plot')" class="bg-gradient-to-br from-orange-50 to-orange-100 p-8 rounded-2xl cursor-pointer card-hover border-2 border-transparent hover:border-primary">
                    <div class="w-16 h-16 bg-primary/20 rounded-2xl flex items-center justify-center mb-4">
                        <span class="text-3xl">üèóÔ∏è</span>
                    </div>
                    <h3 class="text-xl font-bold text-dark mb-2">Residential Plots</h3>
                    <p class="text-gray-600">125, 250, 500 Sq Yards</p>
                    <p class="text-primary font-semibold mt-2" id="plotCount">45+ Listings</p>
                </div>
                <div onclick="filterByCategory('home')" class="bg-gradient-to-br from-blue-50 to-blue-100 p-8 rounded-2xl cursor-pointer card-hover border-2 border-transparent hover:border-blue-500">
                    <div class="w-16 h-16 bg-blue-500/20 rounded-2xl flex items-center justify-center mb-4">
                        <span class="text-3xl">üè°</span>
                    </div>
                    <h3 class="text-xl font-bold text-dark mb-2">Homes & Villas</h3>
                    <p class="text-gray-600">Ready to Move</p>
                    <p class="text-blue-500 font-semibold mt-2" id="homeCount">32+ Listings</p>
                </div>
                <div onclick="filterByCategory('commercial')" class="bg-gradient-to-br from-green-50 to-green-100 p-8 rounded-2xl cursor-pointer card-hover border-2 border-transparent hover:border-green-500">
                    <div class="w-16 h-16 bg-green-500/20 rounded-2xl flex items-center justify-center mb-4">
                        <span class="text-3xl">üè¢</span>
                    </div>
                    <h3 class="text-xl font-bold text-dark mb-2">Commercial</h3>
                    <p class="text-gray-600">Shops & Offices</p>
                    <p class="text-green-500 font-semibold mt-2" id="commercialCount">28+ Listings</p>
                </div>
                <div onclick="filterByCategory('apartment')" class="bg-gradient-to-br from-purple-50 to-purple-100 p-8 rounded-2xl cursor-pointer card-hover border-2 border-transparent hover:border-purple-500">
                    <div class="w-16 h-16 bg-purple-500/20 rounded-2xl flex items-center justify-center mb-4">
                        <span class="text-3xl">üè¨</span>
                    </div>
                    <h3 class="text-xl font-bold text-dark mb-2">Apartments</h3>
                    <p class="text-gray-600">2 & 3 Bed Flats</p>
                    <p class="text-purple-500 font-semibold mt-2" id="apartmentCount">20+ Listings</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Properties -->
    <section id="properties" class="py-20 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-center mb-8">
                <div>
                    <span class="text-primary font-semibold">Featured Listings</span>
                    <h2 class="text-4xl font-bold text-dark mt-2">Latest Properties</h2>
                </div>
                <!-- Status Filter (For Sale / For Rent) -->
                <div class="flex gap-2 mt-6 md:mt-0">
                    <button onclick="filterByStatus('')" class="status-btn px-5 py-2 rounded-full font-medium transition bg-dark text-white" data-status="">All</button>
                    <button onclick="filterByStatus('sale')" class="status-btn px-5 py-2 rounded-full font-medium transition bg-white text-dark border-2 border-gray-200 hover:border-green-500 hover:text-green-600" data-status="sale">For Sale</button>
                    <button onclick="filterByStatus('rent')" class="status-btn px-5 py-2 rounded-full font-medium transition bg-white text-dark border-2 border-gray-200 hover:border-blue-500 hover:text-blue-600" data-status="rent">For Rent</button>
                </div>
            </div>
            <!-- Category Filter -->
            <div class="flex gap-3 mb-10 flex-wrap justify-center">
                <button onclick="filterByCategory('')" class="filter-btn px-6 py-2 rounded-full font-medium transition bg-primary text-white" data-category="">All Types</button>
                <button onclick="filterByCategory('plot')" class="filter-btn px-6 py-2 rounded-full font-medium transition bg-white text-dark hover:bg-primary hover:text-white" data-category="plot">Plots</button>
                <button onclick="filterByCategory('home')" class="filter-btn px-6 py-2 rounded-full font-medium transition bg-white text-dark hover:bg-primary hover:text-white" data-category="home">Homes</button>
                <button onclick="filterByCategory('commercial')" class="filter-btn px-6 py-2 rounded-full font-medium transition bg-white text-dark hover:bg-primary hover:text-white" data-category="commercial">Commercial</button>
                <button onclick="filterByCategory('apartment')" class="filter-btn px-6 py-2 rounded-full font-medium transition bg-white text-dark hover:bg-primary hover:text-white" data-category="apartment">Apartments</button>
            </div>
            <div id="propertyGrid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Properties will be injected here -->
            </div>
            <div class="text-center mt-12">
                <button onclick="loadMoreProperties()" class="bg-dark text-white px-8 py-4 rounded-full font-semibold hover:bg-gray-800 transition">
                    Load More Properties
                </button>
            </div>
        </div>
    </section>

    <!-- Our Agents Section -->
    <section id="agents" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <span class="text-primary font-semibold">Our Team</span>
                <h2 class="text-4xl font-bold text-dark mt-2">Meet Our Expert Agents</h2>
                <p class="text-gray-600 mt-4 max-w-2xl mx-auto">Our experienced team of real estate professionals is here to help you find your perfect property in Bahria Town Karachi.</p>
            </div>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Agent 1 -->
                <div class="bg-gray-50 rounded-2xl p-6 text-center card-hover">
                    <div class="w-32 h-32 bg-gradient-to-br from-primary to-orange-600 rounded-full mx-auto mb-4 flex items-center justify-center text-white text-4xl font-bold">
                        SR
                    </div>
                    <h3 class="text-xl font-bold text-dark">Syed Rafay Ali Jafri</h3>
                    <p class="text-primary font-medium mb-3">Senior Property Consultant</p>
                    <p class="text-gray-600 text-sm mb-4">Specializing in residential plots and luxury villas in Bahria Town Karachi.</p>
                    <div class="flex justify-center gap-3">
                        <a href="tel:03241023387" class="flex items-center gap-2 bg-primary text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-orange-500 transition">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                            </svg>
                            0324 1023387
                        </a>
                        <a href="https://wa.me/923241023387" class="flex items-center justify-center w-10 h-10 bg-green-500 text-white rounded-full hover:bg-green-600 transition">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                        </a>
                    </div>
                </div>

                <!-- Agent 2 -->
                <div class="bg-gray-50 rounded-2xl p-6 text-center card-hover">
                    <div class="w-32 h-32 bg-gradient-to-br from-blue-500 to-blue-700 rounded-full mx-auto mb-4 flex items-center justify-center text-white text-4xl font-bold">
                        TM
                    </div>
                    <h3 class="text-xl font-bold text-dark">Touqeer Mahar</h3>
                    <p class="text-blue-500 font-medium mb-3">Managing Director</p>
                    <p class="text-gray-600 text-sm mb-4">Expert in commercial properties and investment opportunities in BTK.</p>
                    <div class="flex justify-center gap-3">
                        <a href="tel:03033882286" class="flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-blue-600 transition">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                            </svg>
                            0303 3882286
                        </a>
                        <a href="https://wa.me/923033882286" class="flex items-center justify-center w-10 h-10 bg-green-500 text-white rounded-full hover:bg-green-600 transition">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                        </a>
                    </div>
                </div>

                <!-- Agent 3 -->
                <div class="bg-gray-50 rounded-2xl p-6 text-center card-hover">
                    <div class="w-32 h-32 bg-gradient-to-br from-green-500 to-green-700 rounded-full mx-auto mb-4 flex items-center justify-center text-white text-4xl font-bold">
                        SM
                    </div>
                    <h3 class="text-xl font-bold text-dark">Shahjahan Mahar</h3>
                    <p class="text-green-500 font-medium mb-3">Property Advisor</p>
                    <p class="text-gray-600 text-sm mb-4">Helping clients find their dream homes and investment properties.</p>
                    <div class="flex justify-center gap-3">
                        <a href="tel:03223510393" class="flex items-center gap-2 bg-green-500 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-green-600 transition">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                            </svg>
                            0322 3510393
                        </a>
                        <a href="https://wa.me/923223510393" class="flex items-center justify-center w-10 h-10 bg-green-500 text-white rounded-full hover:bg-green-600 transition">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                        </a>
                    </div>
                </div>

                <!-- Agent 4 -->
                <div class="bg-gray-50 rounded-2xl p-6 text-center card-hover">
                    <div class="w-32 h-32 bg-gradient-to-br from-purple-500 to-purple-700 rounded-full mx-auto mb-4 flex items-center justify-center text-white text-4xl font-bold">
                        SI
                    </div>
                    <h3 class="text-xl font-bold text-dark">Sheikh Ibtehaj Ahmed</h3>
                    <p class="text-purple-500 font-medium mb-3">Sales Executive</p>
                    <p class="text-gray-600 text-sm mb-4">Dedicated to providing exceptional service for all property needs.</p>
                    <div class="flex justify-center gap-3">
                        <a href="tel:03003317181" class="flex items-center gap-2 bg-purple-500 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-purple-600 transition">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                            </svg>
                            0300 3317181
                        </a>
                        <a href="https://wa.me/923003317181" class="flex items-center justify-center w-10 h-10 bg-green-500 text-white rounded-full hover:bg-green-600 transition">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                        </a>
                    </div>
                </div>

                <!-- Agent 5 -->
                <div class="bg-gray-50 rounded-2xl p-6 text-center card-hover">
                    <div class="w-32 h-32 bg-gradient-to-br from-red-500 to-red-700 rounded-full mx-auto mb-4 flex items-center justify-center text-white text-4xl font-bold">
                        LA
                    </div>
                    <h3 class="text-xl font-bold text-dark">Liaquat Ali Lodhi</h3>
                    <p class="text-red-500 font-medium mb-3">Property Consultant</p>
                    <p class="text-gray-600 text-sm mb-4">Experienced in apartments and rental property management.</p>
                    <div class="flex justify-center gap-3">
                        <a href="tel:03337463760" class="flex items-center gap-2 bg-red-500 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-red-600 transition">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                            </svg>
                            0333 7463760
                        </a>
                        <a href="https://wa.me/923337463760" class="flex items-center justify-center w-10 h-10 bg-green-500 text-white rounded-full hover:bg-green-600 transition">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-20 bg-dark text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid lg:grid-cols-2 gap-16 items-center">
                <div>
                    <span class="text-primary font-semibold">About Us</span>
                    <h2 class="text-4xl font-bold mt-2 mb-6">Trusted Real Estate Partner in Bahria Town Karachi</h2>
                    <p class="text-gray-300 mb-6 leading-relaxed">
                        Mahar Real Estate & Builders has been serving clients in Bahria Town Karachi for over 15 years. We specialize in buying, selling, and renting premium properties across all precincts.
                    </p>
                    <p class="text-gray-300 mb-8 leading-relaxed">
                        Our team of experienced professionals ensures transparent dealings, proper documentation, and the best market prices for all our clients.
                    </p>
                    <div class="grid grid-cols-2 gap-6">
                        <div class="flex items-center gap-3">
                            <div class="w-12 h-12 bg-primary/20 rounded-xl flex items-center justify-center">
                                <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                </svg>
                            </div>
                            <span>Verified Listings</span>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="w-12 h-12 bg-primary/20 rounded-xl flex items-center justify-center">
                                <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                </svg>
                            </div>
                            <span>Legal Documentation</span>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="w-12 h-12 bg-primary/20 rounded-xl flex items-center justify-center">
                                <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                </svg>
                            </div>
                            <span>Best Market Prices</span>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="w-12 h-12 bg-primary/20 rounded-xl flex items-center justify-center">
                                <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                </svg>
                            </div>
                            <span>24/7 Support</span>
                        </div>
                    </div>
                </div>
                <div class="relative">
                    <div class="bg-gradient-to-br from-primary to-orange-600 rounded-3xl p-1">
                        <img src="https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=600&h=500&fit=crop" alt="Real Estate Office" class="rounded-3xl w-full h-96 object-cover">
                    </div>
                    <div class="absolute -bottom-8 -left-8 bg-white text-dark p-6 rounded-2xl shadow-2xl">
                        <p class="text-4xl font-bold text-primary">15+</p>
                        <p class="text-gray-600">Years of Excellence</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials -->
    <section class="py-20 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <span class="text-primary font-semibold">Testimonials</span>
                <h2 class="text-4xl font-bold text-dark mt-2">What Our Clients Say</h2>
            </div>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="bg-white p-8 rounded-2xl shadow-lg">
                    <div class="flex gap-1 mb-4">
                        <span class="text-yellow-400">‚òÖ</span>
                        <span class="text-yellow-400">‚òÖ</span>
                        <span class="text-yellow-400">‚òÖ</span>
                        <span class="text-yellow-400">‚òÖ</span>
                        <span class="text-yellow-400">‚òÖ</span>
                    </div>
                    <p class="text-gray-600 mb-6">"Excellent service! Mahar Real Estate helped me find the perfect plot in Precinct 27. The entire process was smooth and transparent."</p>
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-primary rounded-full flex items-center justify-center text-white font-bold">AH</div>
                        <div>
                            <p class="font-semibold text-dark">Ahmed Hassan</p>
                            <p class="text-sm text-gray-500">Plot Buyer</p>
                        </div>
                    </div>
                </div>
                <div class="bg-white p-8 rounded-2xl shadow-lg">
                    <div class="flex gap-1 mb-4">
                        <span class="text-yellow-400">‚òÖ</span>
                        <span class="text-yellow-400">‚òÖ</span>
                        <span class="text-yellow-400">‚òÖ</span>
                        <span class="text-yellow-400">‚òÖ</span>
                        <span class="text-yellow-400">‚òÖ</span>
                    </div>
                    <p class="text-gray-600 mb-6">"I purchased a villa through Mahar Real Estate. Their team was very professional and helped with all the paperwork. Highly recommended!"</p>
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold">SK</div>
                        <div>
                            <p class="font-semibold text-dark">Sarah Khan</p>
                            <p class="text-sm text-gray-500">Villa Owner</p>
                        </div>
                    </div>
                </div>
                <div class="bg-white p-8 rounded-2xl shadow-lg">
                    <div class="flex gap-1 mb-4">
                        <span class="text-yellow-400">‚òÖ</span>
                        <span class="text-yellow-400">‚òÖ</span>
                        <span class="text-yellow-400">‚òÖ</span>
                        <span class="text-yellow-400">‚òÖ</span>
                        <span class="text-yellow-400">‚òÖ</span>
                    </div>
                    <p class="text-gray-600 mb-6">"Great experience investing in commercial property. The team provided excellent market insights and secured a great deal for me."</p>
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white font-bold">MA</div>
                        <div>
                            <p class="font-semibold text-dark">Muhammad Ali</p>
                            <p class="text-sm text-gray-500">Investor</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid lg:grid-cols-2 gap-16">
                <div>
                    <span class="text-primary font-semibold">Get in Touch</span>
                    <h2 class="text-4xl font-bold text-dark mt-2 mb-6">Contact Us</h2>
                    <p class="text-gray-600 mb-8">Have questions about a property or want to list your property? We're here to help!</p>
                    
                    <div class="space-y-6">
                        <div class="flex items-start gap-4">
                            <div class="w-14 h-14 bg-primary/10 rounded-2xl flex items-center justify-center flex-shrink-0">
                                <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                                </svg>
                            </div>
                            <div>
                                <p class="font-semibold text-dark">Office Address</p>
                                <p class="text-gray-600">Precinct 10A Commercial, Plot#195<br>Vital Tower, Office#203, 2nd Floor<br>Bahria Town Karachi</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-4">
                            <div class="w-14 h-14 bg-primary/10 rounded-2xl flex items-center justify-center">
                                <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                                </svg>
                            </div>
                            <div>
                                <p class="font-semibold text-dark">Phone Number</p>
                                <p class="text-gray-600">0303 3882286</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-4">
                            <div class="w-14 h-14 bg-primary/10 rounded-2xl flex items-center justify-center">
                                <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                                </svg>
                            </div>
                            <div>
                                <p class="font-semibold text-dark">Email Address</p>
                                <p class="text-gray-600">info@maharrealestate.pk</p>
                            </div>
                        </div>
                    </div>

                    <div class="flex gap-4 mt-8">
                        <a href="#" class="w-12 h-12 bg-dark text-white rounded-xl flex items-center justify-center hover:bg-primary transition">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                        </a>
                        <a href="#" class="w-12 h-12 bg-dark text-white rounded-xl flex items-center justify-center hover:bg-primary transition">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                        </a>
                        <a href="https://wa.me/923033882286" class="w-12 h-12 bg-dark text-white rounded-xl flex items-center justify-center hover:bg-primary transition">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                        </a>
                    </div>
                </div>

                <div class="bg-gray-50 p-8 rounded-3xl shadow-xl">
                    <h3 class="text-2xl font-bold text-dark mb-6">Send us a Message</h3>
                    <form id="contactForm" class="space-y-6">
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-gray-600 mb-2 font-medium">Full Name</label>
                                <input type="text" class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none" placeholder="Your name" required>
                            </div>
                            <div>
                                <label class="block text-gray-600 mb-2 font-medium">Phone</label>
                                <input type="tel" class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none" placeholder="+92 300 0000000" required>
                            </div>
                        </div>
                        <div>
                            <label class="block text-gray-600 mb-2 font-medium">Email</label>
                            <input type="email" class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none" placeholder="your@email.com" required>
                        </div>
                        <div>
                            <label class="block text-gray-600 mb-2 font-medium">Interested In</label>
                            <select class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none">
                                <option>Buying a Property</option>
                                <option>Selling a Property</option>
                                <option>Property Investment</option>
                                <option>Other Inquiry</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-600 mb-2 font-medium">Message</label>
                            <textarea class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none h-32" placeholder="Tell us about your requirements..."></textarea>
                        </div>
                        <button type="submit" class="w-full bg-primary text-white py-4 rounded-xl font-semibold hover:bg-orange-500 transition">
                            Send Message
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dark text-white py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-12">
                <div>
                    <div class="flex items-center space-x-3 mb-6">
                        <div class="w-12 h-12 bg-primary rounded-xl flex items-center justify-center">
                            <span class="text-2xl">üè†</span>
                        </div>
                        <div>
                            <h1 class="text-xl font-bold">Mahar Real Estate</h1>
                            <p class="text-xs text-gray-400">& Builders</p>
                        </div>
                    </div>
                    <p class="text-gray-400 mb-4">Your trusted partner for premium properties in Bahria Town Karachi.</p>
                    <p class="text-gray-400 text-sm">Precinct 10A Commercial, Plot#195<br>Vital Tower, Office#203, 2nd Floor<br>Bahria Town Karachi</p>
                    <p class="text-primary font-semibold mt-2">0303 3882286</p>
                </div>
                <div>
                    <h4 class="font-semibold mb-6">Quick Links</h4>
                    <ul class="space-y-3 text-gray-400">
                        <li><a href="#home" class="hover:text-primary transition">Home</a></li>
                        <li><a href="#properties" class="hover:text-primary transition">Properties</a></li>
                        <li><a href="#agents" class="hover:text-primary transition">Our Agents</a></li>
                        <li><a href="#about" class="hover:text-primary transition">About Us</a></li>
                        <li><a href="#contact" class="hover:text-primary transition">Contact</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-6">Property Types</h4>
                    <ul class="space-y-3 text-gray-400">
                        <li><a href="#" class="hover:text-primary transition">Residential Plots</a></li>
                        <li><a href="#" class="hover:text-primary transition">Homes & Villas</a></li>
                        <li><a href="#" class="hover:text-primary transition">Commercial</a></li>
                        <li><a href="#" class="hover:text-primary transition">Apartments</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-6">Our Agents</h4>
                    <ul class="space-y-3 text-gray-400">
                        <li><a href="tel:03241023387" class="hover:text-primary transition">Syed Rafay Ali Jafri</a></li>
                        <li><a href="tel:03033882286" class="hover:text-primary transition">Touqeer Mahar</a></li>
                        <li><a href="tel:03223510393" class="hover:text-primary transition">Shahjahan Mahar</a></li>
                        <li><a href="tel:03003317181" class="hover:text-primary transition">Sheikh Ibtehaj Ahmed</a></li>
                        <li><a href="tel:03337463760" class="hover:text-primary transition">Liaquat Ali Lodhi</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-400">¬© 2024 Mahar Real Estate & Builders. All rights reserved.</p>
                <p class="text-gray-400 mt-4 md:mt-0">Made with ‚ù§Ô∏è in Karachi</p>
            </div>
        </div>
    </footer>

    <!-- Property Detail Modal -->
    <div id="propertyModal" class="fixed inset-0 bg-black/70 z-50 hidden items-center justify-center p-4 overflow-y-auto">
        <div class="bg-white rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-y-auto animate-fade-in">
            <div id="modalContent"></div>
        </div>
    </div>

    <!-- Edit Property Modal -->
    <div id="editPropertyModal" class="fixed inset-0 bg-black/70 z-50 hidden items-center justify-center p-4 overflow-y-auto">
        <div class="bg-white rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-y-auto animate-fade-in p-8">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-dark" id="editModalTitle">Edit Property</h3>
                <button onclick="closeEditPropertyModal()" class="text-gray-500 hover:text-dark">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <form id="editPropertyForm" class="space-y-4">
                <input type="hidden" id="editPropertyId">
                <div>
                    <label class="block text-gray-600 mb-2 font-medium">Property Title</label>
                    <input type="text" id="editTitle" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none" required>
                </div>
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-gray-600 mb-2 font-medium">Property Type</label>
                        <select id="editType" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none">
                            <option value="plot">Residential Plot</option>
                            <option value="home">Home / Villa</option>
                            <option value="commercial">Commercial</option>
                            <option value="apartment">Apartment</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gray-600 mb-2 font-medium">Listing Status</label>
                        <select id="editStatus" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none">
                            <option value="sale">For Sale</option>
                            <option value="rent">For Rent</option>
                        </select>
                    </div>
                </div>
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-gray-600 mb-2 font-medium">Category Label</label>
                        <input type="text" id="editCategory" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gray-600 mb-2 font-medium">Location</label>
                        <input type="text" id="editLocation" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none" placeholder="e.g., Precinct 27, Block A">
                    </div>
                </div>
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-gray-600 mb-2 font-medium">Size</label>
                        <input type="text" id="editSize" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gray-600 mb-2 font-medium">Price</label>
                        <input type="text" id="editPrice" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none">
                    </div>
                </div>
                <div>
                    <label class="block text-gray-600 mb-2 font-medium">Image URL</label>
                    <input type="text" id="editImage" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none">
                    <div id="editImagePreview" class="mt-3 hidden">
                        <img id="editImagePreviewImg" src="" class="w-full h-40 object-cover rounded-xl border-2 border-gray-200">
                    </div>
                </div>
                <div>
                    <label class="block text-gray-600 mb-2 font-medium">Features (comma separated)</label>
                    <input type="text" id="editFeatures" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none">
                </div>
                <div>
                    <label class="block text-gray-600 mb-2 font-medium">Description</label>
                    <textarea id="editDescription" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none h-32"></textarea>
                </div>
                <div class="flex gap-4 pt-4">
                    <button type="button" onclick="closeEditPropertyModal()" class="flex-1 bg-gray-200 text-dark py-4 rounded-xl font-semibold hover:bg-gray-300 transition">Cancel</button>
                    <button type="submit" class="flex-1 bg-primary text-white py-4 rounded-xl font-semibold hover:bg-orange-500 transition">
                        <span id="editSubmitText">Save Changes</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="adminLoginModal" class="fixed inset-0 bg-black/70 z-50 hidden items-center justify-center p-4">
        <div class="bg-white rounded-3xl max-w-md w-full animate-fade-in p-8">
            <div class="text-center mb-6">
                <div class="w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-10 h-10 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                    </svg>
                </div>
                <h3 class="text-2xl font-bold text-dark">Admin Login</h3>
                <p class="text-gray-500 mt-2">Enter your password to access admin features</p>
            </div>
            <form id="adminLoginForm" class="space-y-4">
                <div>
                    <label class="block text-gray-600 mb-2 font-medium">Password</label>
                    <div class="relative">
                        <input type="password" id="adminPassword" class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none pr-12" placeholder="Enter admin password" required>
                        <button type="button" onclick="togglePasswordVisibility('adminPassword', 'eyeIcon')" class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600">
                            <svg id="eyeIcon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                            </svg>
                        </button>
                    </div>
                    <p id="passwordError" class="text-red-500 text-sm mt-2 hidden">Incorrect password. Please try again.</p>
                </div>
                <button type="submit" class="w-full bg-primary text-white py-4 rounded-xl font-semibold hover:bg-orange-500 transition">Login to Admin</button>
            </form>
            <button onclick="closeAdminLoginModal()" class="w-full mt-4 py-3 text-gray-500 hover:text-dark transition font-medium">Cancel</button>
        </div>
    </div>

    <!-- Change Password Modal -->
    <div id="changePasswordModal" class="fixed inset-0 bg-black/70 z-50 hidden items-center justify-center p-4">
        <div class="bg-white rounded-3xl max-w-md w-full animate-fade-in p-8">
            <div class="text-center mb-6">
                <div class="w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-10 h-10 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"/>
                    </svg>
                </div>
                <h3 class="text-2xl font-bold text-dark">Change Password</h3>
                <p class="text-gray-500 mt-2">Enter your current password and new password</p>
            </div>
            <form id="changePasswordForm" class="space-y-4">
                <div>
                    <label class="block text-gray-600 mb-2 font-medium">Current Password</label>
                    <input type="password" id="currentPassword" class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none" placeholder="Enter current password" required>
                    <p id="currentPasswordError" class="text-red-500 text-sm mt-2 hidden">Current password is incorrect.</p>
                </div>
                <div>
                    <label class="block text-gray-600 mb-2 font-medium">New Password</label>
                    <input type="password" id="newPassword" class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none" placeholder="Enter new password" required minlength="4">
                </div>
                <div>
                    <label class="block text-gray-600 mb-2 font-medium">Confirm New Password</label>
                    <input type="password" id="confirmPassword" class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none" placeholder="Confirm new password" required minlength="4">
                    <p id="confirmPasswordError" class="text-red-500 text-sm mt-2 hidden">Passwords do not match.</p>
                </div>
                <button type="submit" class="w-full bg-blue-500 text-white py-4 rounded-xl font-semibold hover:bg-blue-600 transition">Update Password</button>
            </form>
            <button onclick="closeChangePasswordModal()" class="w-full mt-4 py-3 text-gray-500 hover:text-dark transition font-medium">Cancel</button>
        </div>
    </div>

    <!-- List Property Modal -->
    <div id="listingModal" class="fixed inset-0 bg-black/70 z-50 hidden items-center justify-center p-4 overflow-y-auto">
        <div class="bg-white rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-y-auto animate-fade-in p-8">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-dark">Add New Property</h3>
                <button onclick="closeListingModal()" class="text-gray-500 hover:text-dark">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <form id="listingForm" class="space-y-4">
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-gray-600 mb-2 font-medium">Property Type</label>
                        <select class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none">
                            <option>Residential Plot</option>
                            <option>Home / Villa</option>
                            <option>Commercial</option>
                            <option>Apartment</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gray-600 mb-2 font-medium">Listing Type</label>
                        <select class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none">
                            <option>For Sale</option>
                            <option>For Rent</option>
                        </select>
                    </div>
                </div>
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-gray-600 mb-2 font-medium">Size</label>
                        <input type="text" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none" placeholder="e.g., 250 Sq Yards">
                    </div>
                    <div>
                        <label class="block text-gray-600 mb-2 font-medium">Price (PKR)</label>
                        <input type="text" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none" placeholder="e.g., 1.5 Crore">
                    </div>
                </div>
                <div class="border-t border-gray-200 pt-4 mt-4">
                    <h4 class="text-lg font-semibold text-dark mb-3">Location Details</h4>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-gray-600 mb-2 font-medium">Precinct / Area</label>
                            <input type="text" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none" placeholder="e.g., Precinct 27, Precinct 10A">
                        </div>
                        <div>
                            <label class="block text-gray-600 mb-2 font-medium">Block / Street</label>
                            <input type="text" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none" placeholder="e.g., Block A, Street 5">
                        </div>
                    </div>
                    <div class="mt-4">
                        <label class="block text-gray-600 mb-2 font-medium">Complete Address / Landmarks</label>
                        <input type="text" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none" placeholder="e.g., Near Jinnah Avenue, Opposite Grand Mosque">
                    </div>
                </div>
                <!-- Map Location Section -->
                <div class="border-t border-gray-200 pt-4 mt-4">
                    <h4 class="text-lg font-semibold text-dark mb-3 flex items-center gap-2">
                        <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                        </svg>
                        Pin Property Location on Map
                    </h4>
                    <p class="text-gray-500 text-sm mb-3">Click on the map to mark the exact location of your property</p>
                    <div id="listingMap" class="w-full h-64 rounded-xl border-2 border-gray-200 overflow-hidden map-container"></div>
                    <div id="selectedLocationInfo" class="mt-3 hidden">
                        <div class="flex items-center gap-2 bg-green-50 text-green-700 px-4 py-3 rounded-xl">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                            </svg>
                            <span id="selectedLocationText">Location pinned!</span>
                        </div>
                        <input type="hidden" id="propertyLat" value="">
                        <input type="hidden" id="propertyLng" value="">
                    </div>
                    <div class="flex gap-2 mt-3">
                        <button type="button" onclick="resetMapLocation()" class="px-4 py-2 text-sm bg-gray-200 text-dark rounded-lg hover:bg-gray-300 transition">Reset Pin</button>
                        <button type="button" onclick="useCurrentLocation()" class="px-4 py-2 text-sm bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition flex items-center gap-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/>
                            </svg>
                            Use My Location
                        </button>
                    </div>
                </div>

                <div class="border-t border-gray-200 pt-4 mt-4">
                    <h4 class="text-lg font-semibold text-dark mb-3">Property Images</h4>
                    <div class="border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-primary transition cursor-pointer" onclick="document.getElementById('propertyImages').click()">
                        <input type="file" id="propertyImages" multiple accept="image/*" class="hidden" onchange="handleImageUpload(event)">
                        <div id="uploadPlaceholder">
                            <svg class="w-12 h-12 text-gray-400 mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
                            </svg>
                            <p class="text-gray-600 font-medium">Click to upload images</p>
                            <p class="text-gray-400 text-sm mt-1">PNG, JPG up to 5MB each (Max 5 images)</p>
                        </div>
                        <div id="imagePreviewContainer" class="hidden grid grid-cols-5 gap-3 mt-4"></div>
                    </div>
                    <div id="selectedImagesInfo" class="text-sm text-gray-500 mt-2"></div>
                </div>
                <div class="border-t border-gray-200 pt-4 mt-4">
                    <h4 class="text-lg font-semibold text-dark mb-3">Contact Details</h4>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-gray-600 mb-2 font-medium">Your Name</label>
                            <input type="text" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none" placeholder="Full Name" required>
                        </div>
                        <div>
                            <label class="block text-gray-600 mb-2 font-medium">Phone Number</label>
                            <input type="tel" class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none" placeholder="+92 300 0000000" required>
                        </div>
                    </div>
                </div>
                <div class="border-t border-gray-200 pt-4 mt-4">
                    <label class="block text-gray-600 mb-2 font-medium">Property Description</label>
                    <textarea class="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-primary focus:outline-none h-32" placeholder="Describe your property in detail..."></textarea>
                </div>
                <button type="submit" class="w-full bg-primary text-white py-4 rounded-xl font-semibold hover:bg-orange-500 transition">Add Property</button>
            </form>
        </div>
    </div>

    <script>
        // ADMIN PASSWORD - Simple hardcoded default, can be changed via UI
        const DEFAULT_PASSWORD = 'mahar2286';
        
        function getAdminPassword() {
            const stored = localStorage.getItem('maharAdminPass');
            return stored ? stored : DEFAULT_PASSWORD;
        }
        
        function setAdminPassword(newPass) {
            localStorage.setItem('maharAdminPass', newPass);
        }

        // Sample Properties Data
        const properties = [
            { id: 1, title: "250 Sq Yards Plot", type: "plot", status: "sale", category: "Residential Plot", location: "Precinct 27", price: "95 Lac", priceNum: 95, size: "250 Sq Yards", image: "https://images.unsplash.com/photo-1500382017468-9049fed747ef?w=600&h=400&fit=crop", features: ["Corner Plot", "Developed Area", "Near Mosque", "Park Facing"], description: "Prime location residential plot in the heart of Precinct 27." },
            { id: 2, title: "5 Bedroom Villa", type: "home", status: "sale", category: "Villa", location: "Precinct 1", price: "3.5 Crore", priceNum: 350, size: "500 Sq Yards", image: "https://images.unsplash.com/photo-1613977257363-707ba9348227?w=600&h=400&fit=crop", features: ["5 Bedrooms", "Swimming Pool", "Garden", "Servant Quarter"], description: "Luxurious 5 bedroom villa with modern architecture." },
            { id: 3, title: "Commercial Shop", type: "commercial", status: "sale", category: "Shop", location: "Precinct 10", price: "1.8 Crore", priceNum: 180, size: "400 Sq Ft", image: "https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=600&h=400&fit=crop", features: ["Ground Floor", "Main Road", "Parking", "Ready for Business"], description: "Prime commercial shop on main Jinnah Avenue." },
            { id: 4, title: "3 Bed Apartment", type: "apartment", status: "rent", category: "Apartment", location: "Precinct 15", price: "75,000/month", priceNum: 75, size: "1800 Sq Ft", image: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=600&h=400&fit=crop", features: ["3 Bedrooms", "Balcony", "Gym Access", "Security"], description: "Modern 3 bedroom apartment available for rent." },
            { id: 5, title: "125 Sq Yards Plot", type: "plot", status: "sale", category: "Residential Plot", location: "Precinct 31", price: "45 Lac", priceNum: 45, size: "125 Sq Yards", image: "https://images.unsplash.com/photo-1628624747186-a941c476b7ef?w=600&h=400&fit=crop", features: ["West Open", "Developed", "Near School", "All Utilities"], description: "Affordable residential plot in Precinct 31." },
            { id: 6, title: "3 Bedroom House", type: "home", status: "rent", category: "House", location: "Precinct 2", price: "1.2 Lac/month", priceNum: 120, size: "250 Sq Yards", image: "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=600&h=400&fit=crop", features: ["3 Bedrooms", "Lawn", "Car Porch", "Modern Kitchen"], description: "Beautiful 3 bedroom house available for rent." },
            { id: 7, title: "Office Space", type: "commercial", status: "rent", category: "Office", location: "Precinct 1", price: "2 Lac/month", priceNum: 200, size: "2000 Sq Ft", image: "https://images.unsplash.com/photo-1497366216548-37526070297c?w=600&h=400&fit=crop", features: ["Open Plan", "Conference Room", "Reception", "Parking"], description: "Premium office space available for rent." },
            { id: 8, title: "2 Bed Apartment", type: "apartment", status: "sale", category: "Apartment", location: "Precinct 27", price: "85 Lac", priceNum: 85, size: "1200 Sq Ft", image: "https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=600&h=400&fit=crop", features: ["2 Bedrooms", "Sea View", "Lift", "Covered Parking"], description: "Cozy 2 bedroom apartment with beautiful sea view." },
            { id: 9, title: "500 Sq Yards Plot", type: "plot", status: "sale", category: "Residential Plot", location: "Precinct 1", price: "2.2 Crore", priceNum: 220, size: "500 Sq Yards", image: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=600&h=400&fit=crop", features: ["Prime Location", "Corner", "100ft Road", "All Paid"], description: "Premium 500 sq yards plot in Precinct 1." }
        ];

        let currentFilter = '';
        let currentStatus = '';
        let displayedCount = 6;
        let isAdminMode = false;
        let isAdminAuthenticated = false;
        let editingPropertyId = null;

        // Render Properties
        function renderProperties() {
            const grid = document.getElementById('propertyGrid');
            let filtered = properties.filter(p => {
                if (currentFilter && p.type !== currentFilter) return false;
                if (currentStatus && p.status !== currentStatus) return false;
                return true;
            });
            
            const toShow = filtered.slice(0, displayedCount);
            
            if (toShow.length === 0) {
                grid.innerHTML = '<div class="col-span-full text-center py-16"><div class="text-6xl mb-4">üè†</div><h3 class="text-2xl font-bold text-dark mb-2">No Properties Found</h3></div>';
                return;
            }
            
            grid.innerHTML = toShow.map(p => `
                <div class="bg-white rounded-2xl overflow-hidden shadow-lg card-hover animate-fade-in relative">
                    ${isAdminMode ? `
                    <div class="absolute top-4 right-4 z-10 flex gap-2">
                        <button onclick="event.stopPropagation(); openEditPropertyModal(${p.id})" class="w-10 h-10 bg-blue-500 text-white rounded-full flex items-center justify-center shadow-lg hover:bg-blue-600 transition">‚úèÔ∏è</button>
                        <button onclick="event.stopPropagation(); deleteProperty(${p.id})" class="w-10 h-10 bg-red-500 text-white rounded-full flex items-center justify-center shadow-lg hover:bg-red-600 transition">üóëÔ∏è</button>
                    </div>` : ''}
                    <div class="relative">
                        <img src="${p.image}" alt="${p.title}" class="w-full h-56 object-cover">
                        <div class="absolute top-4 left-4 flex flex-col gap-2">
                            <span class="bg-primary text-white px-4 py-1 rounded-full text-sm font-medium">${p.category}</span>
                            <span class="${p.status === 'rent' ? 'bg-blue-500' : 'bg-green-500'} text-white px-4 py-1 rounded-full text-sm font-medium">${p.status === 'rent' ? 'For Rent' : 'For Sale'}</span>
                        </div>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center gap-2 text-gray-500 text-sm mb-2">üìç ${p.location}</div>
                        <h3 class="text-xl font-bold text-dark mb-2">${p.title}</h3>
                        <p class="text-gray-600 text-sm mb-4">${p.size}</p>
                        <div class="flex flex-wrap gap-2 mb-4">${p.features.slice(0, 2).map(f => `<span class="bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-xs">${f}</span>`).join('')}</div>
                        <div class="flex items-center justify-between pt-4 border-t border-gray-100">
                            <p class="text-2xl font-bold ${p.status === 'rent' ? 'text-blue-500' : 'text-primary'}">PKR ${p.price}</p>
                            <button onclick="openPropertyModal(${p.id})" class="bg-dark text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-800 transition">View Details</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function filterByCategory(category) {
            currentFilter = category;
            displayedCount = 6;
            renderProperties();
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.toggle('bg-primary', btn.dataset.category === category);
                btn.classList.toggle('text-white', btn.dataset.category === category);
                btn.classList.toggle('bg-white', btn.dataset.category !== category);
                btn.classList.toggle('text-dark', btn.dataset.category !== category);
            });
            document.getElementById('properties').scrollIntoView({ behavior: 'smooth' });
        }

        function filterByStatus(status) {
            currentStatus = status;
            displayedCount = 6;
            renderProperties();
            document.querySelectorAll('.status-btn').forEach(btn => {
                const isActive = btn.dataset.status === status;
                btn.className = `status-btn px-5 py-2 rounded-full font-medium transition ${isActive ? (status === 'sale' ? 'bg-green-500 text-white' : status === 'rent' ? 'bg-blue-500 text-white' : 'bg-dark text-white') : 'bg-white text-dark border-2 border-gray-200'}`;
            });
        }

        function loadMoreProperties() { displayedCount += 3; renderProperties(); }

        function searchProperties() {
            currentFilter = document.getElementById('searchType').value;
            currentStatus = document.getElementById('searchStatus').value;
            const locationSearch = document.getElementById('searchLocation').value.toLowerCase().trim();
            displayedCount = 6;
            
            // Filter with location search
            const grid = document.getElementById('propertyGrid');
            let filtered = properties.filter(p => {
                if (currentFilter && p.type !== currentFilter) return false;
                if (currentStatus && p.status !== currentStatus) return false;
                if (locationSearch && !p.location.toLowerCase().includes(locationSearch)) return false;
                return true;
            });
            
            const toShow = filtered.slice(0, displayedCount);
            
            if (toShow.length === 0) {
                grid.innerHTML = '<div class="col-span-full text-center py-16"><div class="text-6xl mb-4">üè†</div><h3 class="text-2xl font-bold text-dark mb-2">No Properties Found</h3><p class="text-gray-500">Try adjusting your search filters</p></div>';
            } else {
                renderPropertiesFiltered(toShow);
            }
            
            document.getElementById('properties').scrollIntoView({ behavior: 'smooth' });
        }
        
        function renderPropertiesFiltered(toShow) {
            const grid = document.getElementById('propertyGrid');
            grid.innerHTML = toShow.map(p => `
                <div class="bg-white rounded-2xl overflow-hidden shadow-lg card-hover animate-fade-in relative">
                    ${isAdminMode ? `
                    <div class="absolute top-4 right-4 z-10 flex gap-2">
                        <button onclick="event.stopPropagation(); openEditPropertyModal(${p.id})" class="w-10 h-10 bg-blue-500 text-white rounded-full flex items-center justify-center shadow-lg hover:bg-blue-600 transition">‚úèÔ∏è</button>
                        <button onclick="event.stopPropagation(); deleteProperty(${p.id})" class="w-10 h-10 bg-red-500 text-white rounded-full flex items-center justify-center shadow-lg hover:bg-red-600 transition">üóëÔ∏è</button>
                    </div>` : ''}
                    <div class="relative">
                        <img src="${p.image}" alt="${p.title}" class="w-full h-56 object-cover">
                        <div class="absolute top-4 left-4 flex flex-col gap-2">
                            <span class="bg-primary text-white px-4 py-1 rounded-full text-sm font-medium">${p.category}</span>
                            <span class="${p.status === 'rent' ? 'bg-blue-500' : 'bg-green-500'} text-white px-4 py-1 rounded-full text-sm font-medium">${p.status === 'rent' ? 'For Rent' : 'For Sale'}</span>
                        </div>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center gap-2 text-gray-500 text-sm mb-2">üìç ${p.location}</div>
                        <h3 class="text-xl font-bold text-dark mb-2">${p.title}</h3>
                        <p class="text-gray-600 text-sm mb-4">${p.size}</p>
                        <div class="flex flex-wrap gap-2 mb-4">${p.features.slice(0, 2).map(f => `<span class="bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-xs">${f}</span>`).join('')}</div>
                        <div class="flex items-center justify-between pt-4 border-t border-gray-100">
                            <p class="text-2xl font-bold ${p.status === 'rent' ? 'text-blue-500' : 'text-primary'}">PKR ${p.price}</p>
                            <button onclick="openPropertyModal(${p.id})" class="bg-dark text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-800 transition">View Details</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function openPropertyModal(id) {
            const p = properties.find(x => x.id === id);
            if (!p) return;
            document.getElementById('modalContent').innerHTML = `
                <div class="relative">
                    <img src="${p.image}" alt="${p.title}" class="w-full h-72 object-cover rounded-t-3xl">
                    <button onclick="closePropertyModal()" class="absolute top-4 right-4 w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-lg">‚úï</button>
                </div>
                <div class="p-8">
                    <div class="flex items-center gap-2 text-gray-500 mb-2">üìç ${p.location}, Bahria Town Karachi</div>
                    <h2 class="text-3xl font-bold text-dark mb-4">${p.title}</h2>
                    <p class="text-3xl font-bold text-primary mb-6">PKR ${p.price}</p>
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div class="bg-gray-50 p-4 rounded-xl"><p class="text-gray-500 text-sm">Size</p><p class="font-semibold text-dark">${p.size}</p></div>
                        <div class="bg-gray-50 p-4 rounded-xl"><p class="text-gray-500 text-sm">Type</p><p class="font-semibold text-dark">${p.category}</p></div>
                    </div>
                    <h4 class="font-semibold text-dark mb-3">Features</h4>
                    <div class="flex flex-wrap gap-2 mb-6">${p.features.map(f => `<span class="bg-primary/10 text-primary px-4 py-2 rounded-full text-sm font-medium">${f}</span>`).join('')}</div>
                    <h4 class="font-semibold text-dark mb-3">Description</h4>
                    <p class="text-gray-600 mb-8">${p.description}</p>
                    <div class="flex gap-4">
                        <a href="tel:03033882286" class="flex-1 bg-primary text-white py-4 rounded-xl font-semibold hover:bg-orange-500 transition text-center">üìû Call Now</a>
                        <a href="https://wa.me/923033882286" class="flex-1 bg-green-500 text-white py-4 rounded-xl font-semibold hover:bg-green-600 transition text-center">üí¨ WhatsApp</a>
                    </div>
                </div>`;
            document.getElementById('propertyModal').classList.remove('hidden');
            document.getElementById('propertyModal').classList.add('flex');
            document.body.style.overflow = 'hidden';
        }

        function closePropertyModal() {
            document.getElementById('propertyModal').classList.add('hidden');
            document.getElementById('propertyModal').classList.remove('flex');
            document.body.style.overflow = 'auto';
        }

        function openListingModal() {
            document.getElementById('listingModal').classList.remove('hidden');
            document.getElementById('listingModal').classList.add('flex');
            document.body.style.overflow = 'hidden';
        }

        function closeListingModal() {
            document.getElementById('listingModal').classList.add('hidden');
            document.getElementById('listingModal').classList.remove('flex');
            document.body.style.overflow = 'auto';
        }

        function toggleMobileMenu() { document.getElementById('mobileMenu').classList.toggle('hidden'); }

        window.addEventListener('scroll', () => {
            const navbar = document.getElementById('navbar');
            navbar.classList.toggle('bg-dark/95', window.scrollY > 50);
            navbar.classList.toggle('backdrop-blur-lg', window.scrollY > 50);
            navbar.classList.toggle('shadow-lg', window.scrollY > 50);
            navbar.classList.toggle('bg-transparent', window.scrollY <= 50);
        });

        document.getElementById('propertyModal').addEventListener('click', (e) => { if (e.target === e.currentTarget) closePropertyModal(); });
        document.getElementById('listingModal').addEventListener('click', (e) => { if (e.target === e.currentTarget) closeListingModal(); });
        document.getElementById('contactForm').addEventListener('submit', (e) => { e.preventDefault(); alert('Thank you! We will contact you shortly.'); e.target.reset(); });
        
        document.getElementById('listingForm').addEventListener('submit', (e) => { 
            e.preventDefault(); 
            
            // Get form values
            const form = e.target;
            const typeText = form.querySelector('select:nth-of-type(1)').value;
            const statusText = form.querySelector('select:nth-of-type(2)').value;
            const size = form.querySelectorAll('input[type="text"]')[0].value;
            const price = form.querySelectorAll('input[type="text"]')[1].value;
            const precinct = form.querySelectorAll('input[type="text"]')[2].value;
            const block = form.querySelectorAll('input[type="text"]')[3].value;
            const address = form.querySelectorAll('input[type="text"]')[4].value;
            const lat = document.getElementById('propertyLat').value;
            const lng = document.getElementById('propertyLng').value;
            const description = form.querySelector('textarea').value;
            
            // Map values to property object
            let type = 'plot';
            if (typeText.includes('Home')) type = 'home';
            else if (typeText.includes('Commercial')) type = 'commercial';
            else if (typeText.includes('Apartment')) type = 'apartment';
            
            const status = statusText === 'For Rent' ? 'rent' : 'sale';
            
            // Construct location string
            let location = precinct;
            if (block) location += `, ${block}`;
            
            // Get image
            let image = 'https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=600&h=400&fit=crop';
            const previewContainer = document.getElementById('imagePreviewContainer');
            if (previewContainer.querySelector('img')) {
                image = previewContainer.querySelector('img').src;
            }

            // Create new property object
            const newProperty = {
                id: Math.max(...properties.map(p => p.id)) + 1,
                title: `${size} ${typeText}`,
                type: type,
                status: status,
                category: typeText,
                location: location,
                price: price,
                priceNum: parseInt(price.replace(/[^0-9]/g, '')) || 0,
                size: size,
                image: image,
                features: ['Newly Listed', 'Great Location'], // Default features
                description: description,
                lat: lat,
                lng: lng
            };
            
            // Add to array
            properties.push(newProperty);
            
            // Update UI
            renderProperties();
            updateCategoryCounts();
            showNotification('Property added successfully!', 'success');
            
            // Reset and close
            e.target.reset(); 
            resetMapLocation();
            document.getElementById('imagePreviewContainer').innerHTML = '';
            document.getElementById('uploadPlaceholder').classList.remove('hidden');
            document.getElementById('selectedImagesInfo').textContent = '';
            closeListingModal(); 
        });

        // Admin Functions
        function toggleAdminMode() {
            if (!isAdminMode) {
                if (!isAdminAuthenticated) { openAdminLoginModal(); return; }
                enableAdminMode();
            } else {
                disableAdminMode();
            }
        }

        function enableAdminMode() {
            isAdminMode = true;
            document.getElementById('adminToggle').classList.remove('bg-dark');
            document.getElementById('adminToggle').classList.add('bg-red-500');
            document.getElementById('adminToggleText').textContent = 'Exit Admin';
            document.getElementById('addPropertyBtn').classList.remove('hidden');
            document.getElementById('addPropertyBtn').classList.add('flex');
            document.getElementById('changePasswordBtn').classList.remove('hidden');
            document.getElementById('changePasswordBtn').classList.add('flex');
            renderProperties();
            updateCategoryCounts();
        }

        function disableAdminMode() {
            isAdminMode = false;
            document.getElementById('adminToggle').classList.add('bg-dark');
            document.getElementById('adminToggle').classList.remove('bg-red-500');
            document.getElementById('adminToggleText').textContent = 'Admin Mode';
            document.getElementById('addPropertyBtn').classList.add('hidden');
            document.getElementById('addPropertyBtn').classList.remove('flex');
            document.getElementById('changePasswordBtn').classList.add('hidden');
            document.getElementById('changePasswordBtn').classList.remove('flex');
            renderProperties();
        }

        function openAdminLoginModal() {
            document.getElementById('adminLoginModal').classList.remove('hidden');
            document.getElementById('adminLoginModal').classList.add('flex');
            document.getElementById('adminPassword').value = '';
            document.getElementById('passwordError').classList.add('hidden');
        }

        function closeAdminLoginModal() {
            document.getElementById('adminLoginModal').classList.add('hidden');
            document.getElementById('adminLoginModal').classList.remove('flex');
        }

        function togglePasswordVisibility(inputId, iconId) {
            const input = document.getElementById(inputId);
            input.type = input.type === 'password' ? 'text' : 'password';
        }

        document.getElementById('adminLoginForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const entered = document.getElementById('adminPassword').value;
            const correct = getAdminPassword();
            
            if (entered === correct) {
                isAdminAuthenticated = true;
                closeAdminLoginModal();
                enableAdminMode();
                showNotification('Admin mode activated!', 'success');
            } else {
                document.getElementById('passwordError').classList.remove('hidden');
                document.getElementById('adminPassword').value = '';
            }
        });

        document.getElementById('adminLoginModal').addEventListener('click', (e) => { if (e.target === e.currentTarget) closeAdminLoginModal(); });

        function openChangePasswordModal() {
            document.getElementById('changePasswordModal').classList.remove('hidden');
            document.getElementById('changePasswordModal').classList.add('flex');
            document.getElementById('currentPassword').value = '';
            document.getElementById('newPassword').value = '';
            document.getElementById('confirmPassword').value = '';
            document.getElementById('currentPasswordError').classList.add('hidden');
            document.getElementById('confirmPasswordError').classList.add('hidden');
        }

        function closeChangePasswordModal() {
            document.getElementById('changePasswordModal').classList.add('hidden');
            document.getElementById('changePasswordModal').classList.remove('flex');
        }

        document.getElementById('changePasswordForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const current = document.getElementById('currentPassword').value;
            const newPass = document.getElementById('newPassword').value;
            const confirm = document.getElementById('confirmPassword').value;
            
            document.getElementById('currentPasswordError').classList.add('hidden');
            document.getElementById('confirmPasswordError').classList.add('hidden');
            
            if (current !== getAdminPassword()) {
                document.getElementById('currentPasswordError').classList.remove('hidden');
                return;
            }
            if (newPass !== confirm) {
                document.getElementById('confirmPasswordError').classList.remove('hidden');
                return;
            }
            if (newPass.length < 4) {
                showNotification('Password must be at least 4 characters!', 'error');
                return;
            }
            
            setAdminPassword(newPass);
            closeChangePasswordModal();
            showNotification('Password changed successfully!', 'success');
        });

        document.getElementById('changePasswordModal').addEventListener('click', (e) => { if (e.target === e.currentTarget) closeChangePasswordModal(); });

        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `fixed top-24 right-4 z-50 px-6 py-4 rounded-xl shadow-2xl animate-fade-in ${type === 'success' ? 'bg-green-500' : 'bg-red-500'} text-white font-medium`;
            notification.textContent = message;
            document.body.appendChild(notification);
            setTimeout(() => { notification.remove(); }, 3000);
        }

        function updateCategoryCounts() {
            document.getElementById('plotCount').textContent = properties.filter(p => p.type === 'plot').length + ' Listings';
            document.getElementById('homeCount').textContent = properties.filter(p => p.type === 'home').length + ' Listings';
            document.getElementById('commercialCount').textContent = properties.filter(p => p.type === 'commercial').length + ' Listings';
            document.getElementById('apartmentCount').textContent = properties.filter(p => p.type === 'apartment').length + ' Listings';
        }

        function openEditPropertyModal(id) {
            const p = properties.find(x => x.id === id);
            if (!p) return;
            editingPropertyId = id;
            document.getElementById('editModalTitle').textContent = 'Edit Property';
            document.getElementById('editSubmitText').textContent = 'Save Changes';
            document.getElementById('editTitle').value = p.title;
            document.getElementById('editType').value = p.type;
            document.getElementById('editStatus').value = p.status;
            document.getElementById('editCategory').value = p.category;
            document.getElementById('editLocation').value = p.location;
            document.getElementById('editSize').value = p.size;
            document.getElementById('editPrice').value = p.price;
            document.getElementById('editImage').value = p.image;
            document.getElementById('editFeatures').value = p.features.join(', ');
            document.getElementById('editDescription').value = p.description;
            document.getElementById('editImagePreviewImg').src = p.image;
            document.getElementById('editImagePreview').classList.remove('hidden');
            document.getElementById('editPropertyModal').classList.remove('hidden');
            document.getElementById('editPropertyModal').classList.add('flex');
            document.body.style.overflow = 'hidden';
        }

        function openAddPropertyModal() {
            // Deprecated in favor of openListingModal for adding properties
            openListingModal();
        }

        function closeEditPropertyModal() {
            document.getElementById('editPropertyModal').classList.add('hidden');
            document.getElementById('editPropertyModal').classList.remove('flex');
            document.body.style.overflow = 'auto';
        }

        document.getElementById('editPropertyForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const data = {
                title: document.getElementById('editTitle').value,
                type: document.getElementById('editType').value,
                status: document.getElementById('editStatus').value,
                category: document.getElementById('editCategory').value,
                location: document.getElementById('editLocation').value,
                size: document.getElementById('editSize').value,
                price: document.getElementById('editPrice').value,
                priceNum: parseInt(document.getElementById('editPrice').value.replace(/[^0-9]/g, '')) || 0,
                image: document.getElementById('editImage').value || 'https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=600&h=400&fit=crop',
                features: document.getElementById('editFeatures').value.split(',').map(f => f.trim()).filter(f => f),
                description: document.getElementById('editDescription').value
            };
            
            if (editingPropertyId) {
                const idx = properties.findIndex(p => p.id === editingPropertyId);
                if (idx !== -1) { properties[idx] = { ...properties[idx], ...data }; showNotification('Property updated!', 'success'); }
            } else {
                properties.push({ id: Math.max(...properties.map(p => p.id)) + 1, ...data });
                showNotification('Property added!', 'success');
            }
            
            closeEditPropertyModal();
            renderProperties();
            updateCategoryCounts();
        });

        function deleteProperty(id) {
            if (confirm('Delete this property?')) {
                const idx = properties.findIndex(p => p.id === id);
                if (idx !== -1) { properties.splice(idx, 1); showNotification('Property deleted!', 'success'); renderProperties(); updateCategoryCounts(); }
            }
        }

        document.getElementById('editImage').addEventListener('input', (e) => {
            const url = e.target.value;
            if (url) {
                document.getElementById('editImagePreviewImg').src = url;
                document.getElementById('editImagePreview').classList.remove('hidden');
            } else {
                document.getElementById('editImagePreview').classList.add('hidden');
            }
        });

        document.getElementById('editPropertyModal').addEventListener('click', (e) => { if (e.target === e.currentTarget) closeEditPropertyModal(); });

        let uploadedImages = [];
        function handleImageUpload(event) {
            const files = event.target.files;
            if (files.length > 5) { alert('Maximum 5 images allowed.'); return; }
            uploadedImages = Array.from(files);
            const container = document.getElementById('imagePreviewContainer');
            container.innerHTML = '';
            uploadedImages.forEach((file, i) => {
                const reader = new FileReader();
                reader.onload = (e) => {
                    container.innerHTML += `<div class="relative"><img src="${e.target.result}" class="w-full h-20 object-cover rounded-lg"></div>`;
                };
                reader.readAsDataURL(file);
            });
            document.getElementById('uploadPlaceholder').classList.add('hidden');
            container.classList.remove('hidden');
            document.getElementById('selectedImagesInfo').textContent = `${files.length} image(s) selected`;
        }

        // Initialize
        renderProperties();
        updateCategoryCounts();
        
        // ===== LEAFLET MAP FOR LISTING PROPERTY =====
        let listingMap = null;
        let listingMarker = null;
        const bahriaTownCenter = [24.9340, 67.1300]; // Bahria Town Karachi coordinates
        
        function initListingMap() {
            if (listingMap) return; // Already initialized
            
            // Initialize the map centered on Bahria Town Karachi
            listingMap = L.map('listingMap', {
                center: bahriaTownCenter,
                zoom: 13,
                scrollWheelZoom: true
            });
            
            // Add OpenStreetMap tiles
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '¬© OpenStreetMap contributors',
                maxZoom: 19
            }).addTo(listingMap);
            
            // Add a marker for Bahria Town area
            L.circle(bahriaTownCenter, {
                color: '#EE964B',
                fillColor: '#EE964B',
                fillOpacity: 0.1,
                radius: 5000
            }).addTo(listingMap);
            
            // Click event to add marker
            listingMap.on('click', function(e) {
                placeMarker(e.latlng.lat, e.latlng.lng);
            });
        }
        
        function placeMarker(lat, lng) {
            // Remove existing marker
            if (listingMarker) {
                listingMap.removeLayer(listingMarker);
            }
            
            // Create custom icon
            const customIcon = L.divIcon({
                className: 'custom-marker',
                html: `<div style="background-color: #EE964B; width: 40px; height: 40px; border-radius: 50% 50% 50% 0; transform: rotate(-45deg); border: 3px solid white; box-shadow: 0 4px 10px rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center;">
                    <span style="transform: rotate(45deg); font-size: 18px;">üè†</span>
                </div>`,
                iconSize: [40, 40],
                iconAnchor: [20, 40]
            });
            
            // Add new marker
            listingMarker = L.marker([lat, lng], { 
                icon: customIcon,
                draggable: true 
            }).addTo(listingMap);
            
            // Update on drag
            listingMarker.on('dragend', function(e) {
                const pos = e.target.getLatLng();
                updateLocationInfo(pos.lat, pos.lng);
            });
            
            // Update location info
            updateLocationInfo(lat, lng);
            
            // Center map on marker
            listingMap.setView([lat, lng], 16);
        }
        
        function updateLocationInfo(lat, lng) {
            document.getElementById('propertyLat').value = lat;
            document.getElementById('propertyLng').value = lng;
            document.getElementById('selectedLocationInfo').classList.remove('hidden');
            document.getElementById('selectedLocationText').textContent = `Location pinned: ${lat.toFixed(6)}, ${lng.toFixed(6)}`;
        }
        
        function resetMapLocation() {
            if (listingMarker && listingMap) {
                listingMap.removeLayer(listingMarker);
                listingMarker = null;
            }
            document.getElementById('propertyLat').value = '';
            document.getElementById('propertyLng').value = '';
            document.getElementById('selectedLocationInfo').classList.add('hidden');
            listingMap.setView(bahriaTownCenter, 13);
        }
        
        function useCurrentLocation() {
            if (!navigator.geolocation) {
                showNotification('Geolocation is not supported by your browser', 'error');
                return;
            }
            
            showNotification('Getting your location...', 'success');
            
            navigator.geolocation.getCurrentPosition(
                function(position) {
                    const lat = position.coords.latitude;
                    const lng = position.coords.longitude;
                    placeMarker(lat, lng);
                    showNotification('Location detected and pinned!', 'success');
                },
                function(error) {
                    let message = 'Unable to get your location';
                    if (error.code === 1) message = 'Location access denied. Please allow location access.';
                    else if (error.code === 2) message = 'Location unavailable. Please try again.';
                    else if (error.code === 3) message = 'Location request timed out. Please try again.';
                    showNotification(message, 'error');
                },
                {
                    enableHighAccuracy: true,
                    timeout: 10000,
                    maximumAge: 0
                }
            );
        }
        
        // Override openListingModal to initialize map
        const originalOpenListingModal = openListingModal;
        openListingModal = function() {
            document.getElementById('listingModal').classList.remove('hidden');
            document.getElementById('listingModal').classList.add('flex');
            document.body.style.overflow = 'hidden';
            
            // Initialize map after modal is visible
            setTimeout(() => {
                initListingMap();
                if (listingMap) {
                    listingMap.invalidateSize();
                }
            }, 300);
        };
        
        // Reset map when modal closes
        const originalCloseListingModal = closeListingModal;
        closeListingModal = function() {
            document.getElementById('listingModal').classList.add('hidden');
            document.getElementById('listingModal').classList.remove('flex');
            document.body.style.overflow = 'auto';
            resetMapLocation();
        };
    </script>
</body>
</html>
